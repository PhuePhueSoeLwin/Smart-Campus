/* =========================
   CCTV.css — full stylesheet
   ========================= */

/* Page shell */
.cctv-page{
  position:fixed; inset:0;
  background:
    radial-gradient(1200px 600px at 50% -200px, rgba(77,174,244,0.12), transparent 60%),
    linear-gradient(180deg, #0b1326, #0a1020 40%, #0b1326);
  color:#e6eeff;
  font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  overflow:hidden;
  display:grid; grid-template-rows:auto auto auto 1fr;
}

/* Top bar */
.cctv-topbar{
  display:grid; grid-template-columns:140px 1fr 140px; align-items:center; gap:12px;
  padding:12px 18px; border-bottom:1px solid rgba(255,255,255,0.08);
  backdrop-filter:blur(8px) saturate(140%); -webkit-backdrop-filter:blur(8px) saturate(140%);
  background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
}
.cctv-back-btn{
  justify-self:start; padding:8px 16px; border-radius:10px;
  border:1px solid rgba(77,174,244,0.4);
  background:linear-gradient(180deg, rgba(77,174,244,0.22), rgba(77,174,244,0.12));
  color:#e6f4ff; font-weight:700; font-size:14px; cursor:pointer;
  box-shadow:0 6px 18px rgba(0,0,0,0.25), inset 0 0 0 1px rgba(255,255,255,0.14);
  transition:transform .08s, filter .15s, box-shadow .2s;
}
.cctv-back-btn:hover{filter:brightness(1.05); box-shadow:0 8px 22px rgba(0,0,0,0.35), 0 0 0 3px rgba(77,174,244,0.18) inset;}
.cctv-back-btn:active{transform:translateY(1px);}
.cctv-title{justify-self:center; display:inline-flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.2px; color:#e6eeff;}
.bld-badge{margin-left:8px; padding:4px 8px; border-radius:999px; font-size:11px; font-weight:800; color:#0b254a; background:#8ad0ff;}
.cctv-logo{justify-self:end; height:44px; object-fit:contain;}

/* KPIs */
.cctv-kpis{
  display:grid; grid-template-columns:repeat(6, minmax(120px, 1fr)); gap:10px;
  padding:10px 18px 8px; border-bottom:1px solid rgba(255,255,255,0.06);
}
.kpi-card{background:linear-gradient(180deg, rgba(255,255,255,0.12), rgba(255,255,255,0.06)); border:1px solid rgba(77,174,244,0.22); border-radius:12px; padding:10px 12px; box-shadow:0 6px 18px rgba(0,0,0,.25);}
.kpi-card.ok{border-color:rgba(30,230,165,.28);}
.kpi-card.off{border-color:rgba(255,138,138,.26);}
.kpi-card.people{border-color:rgba(138,208,255,.26);}
.kpi-card.uptime{border-color:rgba(255,215,115,.28);}
.kpi-label{font-size:11px; color:#b9c6df; margin-bottom:4px;}
.kpi-value{font-size:18px; font-weight:800;}
@media (max-width:960px){.cctv-kpis{grid-template-columns:repeat(3,minmax(120px,1fr));}}
@media (max-width:600px){.cctv-kpis{grid-template-columns:repeat(2,minmax(120px,1fr));}}

/* Filters */
.cctv-filters{display:grid; grid-template-columns:1fr auto; gap:12px; padding:12px 18px; border-bottom:1px solid rgba(255,255,255,0.06);}
.cctv-search input{
  width:90%; padding:10px 12px; border-radius:10px;
  border:1px solid rgba(77,174,244,0.35); background:rgba(255,255,255,0.08);
  color:#fff; outline:none;
}
.cctv-search input::placeholder{color:rgba(255,255,255,0.6);}
.cctv-selects{display:inline-flex; gap:10px; align-items:center;}
.cctv-selects select{
  padding:10px 12px; border-radius:10px;
  border:1px solid rgba(77,174,244,0.35); background:rgba(255,255,255,0.08);
  color:#fff; outline:none;
}
.ghost-btn{padding:10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,0.18); background:rgba(255,255,255,0.06); color:#e6eeff; font-weight:700; cursor:pointer; transition:transform .08s, filter .15s, box-shadow .2s;}
.ghost-btn.small{padding:8px 10px; font-size:12px;}
.ghost-btn:hover{filter:brightness(1.05); box-shadow:0 0 0 3px rgba(77,174,244,0.18);}
.ghost-btn:active{transform:translateY(1px);}

/* Buildings grid */
.bld-grid{
  padding:16px 18px 22px; overflow:auto;
  display:grid; grid-template-columns:repeat(auto-fill, minmax(240px, 1fr)); gap:14px;
}
.bld-card{
  text-align:left; padding:14px; border-radius:14px;
  border:1px solid rgba(77,174,244,0.22);
  background:
    radial-gradient(400px 140px at 20% -20%, rgba(77,174,244,0.14), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04));
  color:#e6eeff; box-shadow:0 8px 24px rgba(0,0,0,0.28); cursor:pointer;
  display:grid; gap:12px; transition:transform .08s, filter .15s, box-shadow .2s;
}
.bld-card:hover{filter:brightness(1.05); box-shadow:0 10px 28px rgba(0,0,0,0.36), 0 0 0 3px rgba(77,174,244,0.14) inset;}
.bld-card:active{transform:translateY(1px);}
.bld-head{display:flex; align-items:center; gap:8px; font-weight:900; font-size:16px;}
.bld-icon{display:inline-grid; place-items:center; width:28px; height:28px; border-radius:8px; background:linear-gradient(180deg, rgba(77,174,244,0.22), rgba(77,174,244,0.12)); border:1px solid rgba(77,174,244,0.35); color:#8ad0ff;}
.bld-code{letter-spacing:.2px;}
.bld-students{background:rgba(255,255,255,0.05); border:1px solid rgba(138,208,255,0.18); border-radius:10px; padding:8px 10px;}
.students-row{display:flex; align-items:center; justify-content:space-between;}
.students-label{display:inline-flex; align-items:center; gap:6px; font-size:12px; color:#bfe4ff;}
.students-value{font-weight:900; font-size:16px;}
.students-spark{margin-top:6px; height:6px; border-radius:999px; background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03)); overflow:hidden; border:1px solid rgba(138,208,255,0.22);}
.students-spark .spark-fill{height:100%; width:40%; background:linear-gradient(90deg, #8ad0ff, #2e90ff); box-shadow:0 4px 12px rgba(46,144,255,0.35);}
.bld-counts{display:inline-flex; gap:8px; flex-wrap:wrap;}
.pill{display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; font-size:12px; font-weight:800; border:1px solid rgba(255,255,255,0.14);}
.pill.ok{color:#1ee6a5; border-color:rgba(30,230,165,.25); background:rgba(30,230,165,.10);}
.pill.off{color:#ff8a8a; border-color:rgba(255,138,138,.22); background:rgba(255,255,255,.06);}
.pill.neutral,.pill.people{color:#bfe4ff; border-color:rgba(138,208,255,.22); background:rgba(138,208,255,.10);}
.bld-progress{position:relative; height:8px; border-radius:999px; background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03)); border:1px solid rgba(77,174,244,0.22); overflow:hidden;}
.bld-progress .bar{position:absolute; inset:0 auto 0 0; width:0; background:linear-gradient(90deg, #2e90ff, #12d1b8); box-shadow:0 2px 8px rgba(46,144,255,0.35);}
.bld-progress .pct{margin-top:6px; font-size:11px; color:#a8b3cf;}

/* Per-building summary row */
.bld-stats-row{display:flex; gap:8px; padding:8px 18px 0; align-items:center; flex-wrap:wrap;}
.pill.big{font-size:13px; padding:8px 12px;}

/* Uniform camera grid */
.cctv-grid{
  padding:12px 18px 22px; overflow:auto;
  display:grid; grid-template-columns:repeat(auto-fill, minmax(280px, 1fr)); gap:14px;
}
.cam-card{
  background:linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04));
  border:1px solid rgba(77,174,244,0.22); border-radius:14px; box-shadow:0 8px 24px rgba(0,0,0,0.28);
  display:grid; grid-template-rows:170px 86px; overflow:hidden; cursor:pointer;
  transition:transform .08s, filter .15s, box-shadow .2s;
}
.cam-card:hover{filter:brightness(1.05); box-shadow:0 10px 28px rgba(0,0,0,0.36);}
.cam-card:active{transform:translateY(1px);}

/* Thumbnail */
.thumb{position:relative;}
.stream-placeholder{position:absolute; inset:0; background:radial-gradient(600px 200px at 50% -20%, rgba(77,174,244,0.18), transparent 60%), #0f172a;}
.scanline{position:absolute; inset:0; z-index:1; background:repeating-linear-gradient(to bottom, rgba(255,255,255,0.06) 0px, rgba(255,255,255,0.06) 1px, transparent 2px, transparent 4px); opacity:.25; animation:scan 4s linear infinite;}
@keyframes scan{0%{background-position-y:0}100%{background-position-y:100%}}

/* Live/Offline pill */
.stream-placeholder .overlay{
  position:absolute; right:8px; top:8px; z-index:3;
  display:inline-flex; align-items:center; gap:6px;
  padding:6px 10px; border-radius:999px; font-size:12px; font-weight:800;
  border:1px solid rgba(255,255,255,0.12); box-shadow:0 2px 8px rgba(0,0,0,.25);
}
.stream-placeholder .overlay.live{background:#8ad0ff; color:#0b254a; border-color:rgba(138,208,255,.5);}
.stream-placeholder .overlay.offline{background:#ff3b3b; color:#fff; border-color:rgba(255,0,0,.45); box-shadow:0 2px 12px rgba(255,0,0,.35);}

/* Name overlay — moved further up */
.thumb-title{
  position:absolute; left:8px; right:8px; bottom:36px; /* ↑ was 22px */
  z-index:4;
  display:flex; align-items:center; justify-content:space-between; gap:8px;
  padding:9px 12px; border-radius:10px;
  background:rgba(0,0,0,0.65); border:1px solid rgba(255,255,255,0.16);
  color:#f2f6ff; font-weight:800; font-size:13px; letter-spacing:.2px;
  text-shadow:0 1px 2px rgba(0,0,0,.55); backdrop-filter:blur(2px);
  line-height:1.15;
}
.thumb-title .thumb-name{overflow:hidden; text-overflow:ellipsis; white-space:nowrap;}
.thumb-title .thumb-id{opacity:.9; font-weight:700; font-size:11px; color:#cfe0ff;}
@media (max-width:420px){.thumb-title .thumb-id{display:none;}}

/* Footer */
.card-footer{
  display:grid; grid-template-columns:1fr auto; align-items:center; gap:8px;
  padding:10px 12px; border-top:1px solid rgba(255,255,255,0.08);
  background:radial-gradient(600px 240px at 50% -100%, rgba(77,174,244,0.08), transparent 60%), linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.03));
}
.cf-left{min-width:0;}
.cf-name{font-weight:900; font-size:14px; letter-spacing:.2px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;}
.cf-sub{margin-top:2px; font-size:12px; color:#a8b3cf; overflow:hidden; white-space:nowrap; text-overflow:ellipsis;}
.cf-sep{margin:0 6px; opacity:.6;}
.cf-status{justify-self:end; padding:6px 10px; border-radius:999px; border:1px solid rgba(255,255,255,0.14); font-weight:800; font-size:12px;}
.cf-status.ok{color:#1ee6a5; border-color:rgba(30,230,165,.25); background:rgba(30,230,165,.10);}
.cf-status.off{color:#ffd8d8; border-color:rgba(255,70,70,.35); background:rgba(255,70,70,.15);}

/* Empty */
.empty{grid-column:1/-1; display:grid; place-items:center; padding:40px 0 20px; opacity:.85; color:#cfe6ff; font-weight:700;}

/* Player overlay */
.player-overlay{position:fixed; inset:0; z-index:4000; display:grid; place-items:center;}
.player-backdrop{position:absolute; inset:0; background:rgba(4,10,22,0.6); backdrop-filter:blur(4px);}
.player-sheet{
  position:relative; z-index:1; width:min(1200px,94vw); border-radius:16px;
  background:linear-gradient(180deg, rgba(255,255,255,0.15), rgba(255,255,255,0.08));
  border:1px solid rgba(77,174,244,0.28); box-shadow:0 18px 48px rgba(0,0,0,.4);
  overflow:hidden; display:grid; grid-template-rows:auto minmax(56vh,72vh);
}
.player-head{display:grid; grid-template-columns:1fr auto; align-items:center; gap:8px; padding:10px 12px; border-bottom:1px solid rgba(255,255,255,0.12); background:rgba(11,18,32,0.5);}
.ph-left{display:inline-flex; gap:10px; align-items:center;}
.ph-title{display:grid; gap:2px;}
.ph-name{font-weight:900; letter-spacing:.2px;}
.ph-sub{color:#b9c6df; font-size:12px; display:inline-flex; gap:6px; align-items:center;}
.ph-sub .dot{opacity:.5;}
.ph-sub .tag.ok{color:#1ee6a5;}
.ph-sub .tag.off{color:#ff8a8a;}
.player-close{width:28px; height:28px; border-radius:8px; border:1px solid rgba(255,255,255,0.22); background:rgba(255,255,255,0.10); color:#fff; font-size:18px; line-height:1; cursor:pointer;}
.player-close:hover{filter:brightness(1.08);}

/* Stage (fullscreen target) */
.player-stage{position:relative; background:#0f172a; display:grid; place-items:center; overflow:hidden;}
.player-stage.offline{background:radial-gradient(600px 240px at 50% -20%, rgba(255,138,138,0.15), transparent 60%), #140f16;}
.player-video{width:100%; height:100%; object-fit:contain; background:#000;}
.offline-wrap{text-align:center; color:#ffd1d1;}
.offline-badge{display:inline-block; padding:6px 10px; border-radius:999px; border:1px solid rgba(255,138,138,.26); background:rgba(255,138,138,.12); font-weight:800; margin-bottom:8px;}

/* Controls */
.yt-controls{position:absolute; left:0; right:0; bottom:0; z-index:2; display:grid; grid-template-rows:auto auto; gap:4px; padding:0; background:linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,.35) 45%, rgba(0,0,0,.65) 100%);}
.yt-progress{padding:8px 12px 4px;}
.yt-progress .track{position:relative; height:8px; border-radius:999px; background:rgba(255,255,255,0.18); overflow:hidden;}
.yt-progress .track-buffer{position:absolute; left:0; top:0; bottom:0; background:rgba(255,255,255,0.35);}
.yt-progress .track-played{position:absolute; left:0; top:0; bottom:0; background:#ff3b3b;}
.yt-progress input[type="range"]{-webkit-appearance:none; appearance:none; position:absolute; left:0; right:0; top:-8px; bottom:-8px; background:transparent; cursor:pointer;}
.yt-progress input[type="range"]::-webkit-slider-thumb{-webkit-appearance:none; appearance:none; width:16px; height:16px; border-radius:50%; background:#fff; border:2px solid #ff3b3b; box-shadow:0 0 0 4px rgba(255,59,59,.25);}
.yt-progress input[type="range"]::-moz-range-thumb{width:16px; height:16px; border-radius:50%; background:#fff; border:2px solid #ff3b3b;}

.yt-row{display:grid; grid-template-columns:1fr auto; align-items:center; gap:8px; padding:8px 12px 10px;}
.yt-left,.yt-right{display:inline-flex; align-items:center; gap:10px;}
.icon-btn{width:40px; height:40px; border-radius:12px; border:1px solid rgba(255,255,255,0.35); background:rgba(0,0,0,0.55); color:#fff; display:grid; place-items:center; cursor:pointer; transition:filter .15s, transform .06s; backdrop-filter:blur(2px);}
.icon-btn:hover{filter:brightness(1.15);}
.icon-btn:active{transform:translateY(1px) scale(.98);}
.icon-btn:focus-visible{outline:none; box-shadow:0 0 0 3px rgba(138,208,255,.35);}
.icon-btn svg{width:20px; height:20px;}
.yt-time{font-size:13px; color:#e8e8e8; margin-left:4px;}
.yt-time .sep{opacity:.7;}
.yt-volume{width:140px;}
.yt-volume,.yt-volume:focus{outline:none;}
.yt-volume::-webkit-slider-thumb{-webkit-appearance:none; appearance:none; width:14px; height:14px; border-radius:50%; background:#fff; border:2px solid #999;}

/* Settings popover */
.yt-settings-wrap{position:relative;}
.yt-settings{position:absolute; right:0; bottom:52px; min-width:240px; background:rgba(14,16,22,0.95); border:1px solid rgba(255,255,255,0.2); border-radius:12px; padding:10px; box-shadow:0 10px 28px rgba(0,0,0,.45);}
.yt-menu{display:grid; gap:2px;}
.yt-item{display:grid; grid-template-columns:1fr auto; align-items:center; gap:10px; padding:10px; border-radius:8px; color:#eaeefc; cursor:pointer;}
.yt-item:hover{background:rgba(255,255,255,0.08);}
.yt-item .right{opacity:.85; font-weight:700;}
.yt-section-title{font-size:11px; color:#aeb7cc; padding:6px 10px 4px;}
.yt-dd{background:rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.16); color:#fff; padding:6px 8px; border-radius:8px;}

/* Fullscreen (stage) */
.player-stage:fullscreen,
.player-stage:-webkit-full-screen{
  width:100vw!important; height:100vh!important; max-width:100vw!important; max-height:100vh!important;
  border-radius:0; border:none; box-shadow:none;
}
.player-stage:fullscreen .player-video,
.player-stage:-webkit-full-screen .player-video{width:100%; height:100%; object-fit:contain;}
.player-stage:fullscreen .yt-controls,
.player-stage:-webkit-full-screen .yt-controls{background:linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,.35) 45%, rgba(0,0,0,.75) 100%);}
